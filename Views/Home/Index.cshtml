@using PI_3.Models;
<div class="wrapper">
    <!--HEADER-->    
    <div class="header-wrapper">
        <div class="header">
            <div class="header-left">

            </div>
            <div class="header-center">
                <div class="mobile-header-backdrop"></div>
                <div class="mobile-header">
                    <button class="mdc-icon-button material-icons header-icon-button" style="left: 8px" id="mobile-sidebar-button">menu</button>
                    <button class="header-search-field" id="mobile-search-button" onclick="SearchModalFocus()">Buscar...</button>
                    <button class="mdc-icon-button header-icon-button" style="right: 8px;" data-micromodal-trigger="modal-1"><img class="header-img-button" src="~/img/porter.jpg"></button>
                </div>
            </div>
            <div class="header-right">

            </div>
        </div>
    </div>
    <!--SIDEBAR-->
    <div class="sidebar-wrapper" id="sidebar">
        <div class="sidebar">
            <div class="mobile-sidebar">
                <div class="sidebar-section">
                    <div class="section-new">
                        <div class="sidebar-logo-container">
                            <i class="material-icons sidebar-logo">book</i>
                        </div>
                        <button class="mdc-button mdc-button--outlined mdc-ripple-upgraded" style="width:100%" data-micromodal-trigger="modal-3">
                            <span class="mdc-button__label">Escrever Pergunta</span>
                        </button>
                    </div>
                </div>
                <div class="sidebar-section">
                    <div class="section-default">
                        <ul id="my-list" class="mdc-list" role="listbox">
                            <li class="mdc-list-item mdc-list-item--selected" style="padding: 0;" role="option" aria-selected="true" >
                                <span class="mdc-list-item__text materia-title-container">
                                    <span class="materia-title">
                                        <span class="materia-title-inner">Inbox
                                            <span class="selected-underscore"></span>
                                        </span>
                                    </span>
                                </span>
                            </li>
                            <li class="mdc-list-item" style="padding: 0;" role="option" aria-selected="false" tabindex="0">
                                <span class="mdc-list-item__text materia-title-container">
                                    <span class="materia-title">
                                        <span class="materia-title-inner">Arquivadas
                                            <span class="selected-underscore"></span>
                                        </span>
                                    </span>
                                </span>
                            </li>
                            <div class="list-title">Cursos
                                <button class="mdc-icon-button material-icons" style="font-size: 18px;padding: 0;height: 30px;width: 30px;margin-right: 20px;" data-micromodal-trigger="modal-4">edit</button>
                            </div>
                            @foreach (CursoAluno c in ViewBag.CursoAluno) {
                                @if (@c.statusInvite == 0)
                                {
                                <li class="mdc-list-item list-select" role="option" aria-selected="true" tabindex="0" id="list-curso-aluno-@c.CursoId"> 
                                    <span class="mdc-list-item__text materia-title-container">
                                        <span class="materia-title">@c.Curso.CursoNome                                        
                                            <span class="materia-title-inner">
                                                <span class="selected-underscore"></span>
                                            </span>
                                        </span>
                                    </span>
                                    <div class="list-label-container">
                                        <span class="list-label" style="background: @c.CursoAlunoTag"></span>
                                    </div>
                                </li>  
                                }
                            }
                        </ul>
                    </div>
                </div>
            </div>

            <div class="desktop-sidebar">
                <div class="desktop-sidebar-closed">

                </div>
                <div class="desktop-sidebar-open">
                    
                </div>
            </div>

        </div>
    </div>
    <!--CONTENT-->
    <div class="content-wrapper">
        <div class="content">
            <div class="mobile-content">
                <div class="mobile-content-header">
                    <div class="current-inbox-title">Inbox</div>
                    <button class="mdc-button" data-micromodal-trigger="modal-2">
                        <i class="material-icons mdc-button__icon" aria-hidden="true">email</i>
                        <span class="mdc-button__label">Convites</span>
                    </button>
                </div>
                <div class="mobile-content-body">
                    <div class="mail-list-wrapper">
                        <div class="mail-list">
                            <div class="mail-item-wrapper">
                                <a class="mail-item-container">
                                    <div class="mail-item-left">
                                        <img class="account-picture" src="~/img/porter.jpg">
                                        <span class="tag-icon" style="background: #ea4c89;">
                                        </span>
                                    </div>
                                    <div class="mail-item-right">
                                        <div class="mail-item-header">
                                            <div class="mail-sender">Vinícius Bolognini</div>
                                            <div class="mail-time">14:23</div>
                                        </div>
                                        <div class="mail-subject">Assunto Lorem Ipsum Lorem Ipsum</div>
                                        <div class="mail-summary-text">
                                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="mail-item-wrapper">
                                <a class="mail-item-container">
                                    <div class="mail-item-left">
                                        <img class="account-picture" src="~/img/porter.jpg">
                                        <span class="tag-icon" style="background: #03a9f4;">
                                        </span>
                                    </div>
                                    <div class="mail-item-right">
                                        <div class="mail-item-header">
                                            <div class="mail-sender">Lucas Zillig</div>
                                            <div class="mail-time">17:35</div>
                                        </div>
                                        <div class="mail-subject">Duvida sobre big data</div>
                                        <div class="mail-summary-text">
                                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="desktop-content">

        </div>
    </div>
</div>
<!--MODALS-->
<div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
            <header class="modal__header">
                <button class="mdc-icon-button material-icons header-icon-button modal__close__custom" data-micromodal-close>chevron_left</button>
                <h2 class="modal__title" id="modal-1-title">Configurações</h2>
            </header>
            <main class="modal__content" id="modal-1-content" style="padding: 0;">
                <ul class="mdc-list">
                    <li class="mdc-list-item" tabindex="0" data-micromodal-trigger="modal-6">
                        <span class="mdc-list-item__text">Conta</span>
                    </li>
                    <li class="mdc-list-item" tabindex="0" data-micromodal-trigger="modal-7">
                        <span class="mdc-list-item__text">Senha</span>
                    </li>
                </ul>
            </main>
            <footer class="modal__footer">
                <button onclick="logout()" class="mdc-button mdc-button--outlined mdc-ripple-upgraded" style="width: 100%; margin-top: 15px;height: 46px;width: 100%;margin-top: 15px;">Log Out</button>
            </footer>
        </div>
    </div>
</div>

<div class="modal micromodal-slide" id="modal-2" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-2-title">
            <header class="modal__header">
                <button class="mdc-icon-button material-icons header-icon-button modal__close__custom" data-micromodal-close>chevron_left</button>
                <h2 class="modal__title" id="modal-2-title">Convites</h2>
            </header>
            <main class="modal__content" id="modal-2-content">
                <div class="invite-wrapper" id="list-invites">
                @foreach (CursoAluno c in ViewBag.CursoAluno) {
                    @if (@c.statusInvite == 1)
                    {
                    <div class="invite" id="invite-curso-aluno-@c.CursoAlunoId">
                        <div class="invite-left">
                            @c.Curso.CursoNome
                        </div>
                        <div class="invite-right">
                            <button onclick="acceptInvite(@c.CursoAlunoId)" class="mdc-icon-button material-icons">check</button>
                            <button onclick="declineInvite(@c.CursoAlunoId)" class="mdc-icon-button material-icons">clear</button>
                        </div>
                    </div>
                    }
                }
                </div>
            </main>
        </div>
    </div>
</div>

<div class="modal micromodal-slide" id="modal-3" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-3-title">
            <header class="modal__header">
                <button class="mdc-icon-button material-icons header-icon-button modal__close__custom" data-micromodal-close>chevron_left</button>
                <h2 class="modal__title" id="modal-3-title">Escrever Pergunta</h2>
            </header>
            <main class="modal__content" id="modal-3-content">
                <form id="pergunta-form" class="form-wrapper" name="form" enctype="multipart/form-data" method="post">
                    <label for="nome-pergunta" class="input-label" style="margin-top: -10px; margin-bottom: 5px;">Curso</label>
                    <div class="mdc-select demo-width-class">
                        <input type="hidden" name="enhanced-select" id="curso-select">
                        <i class="mdc-select__dropdown-icon"></i>
                        <div class="mdc-select__selected-text"></div>
                        <div class="mdc-select__menu mdc-menu mdc-menu-surface demo-width-class">
                            <ul class="mdc-list" id="lista-cursos">
                                @foreach (CursoAluno c in ViewBag.CursoAluno) {
                                <li class="mdc-list-item" data-value="@c.CursoAlunoId">
                                    @c.Curso.CursoNome
                                </li>
                                }
                            </ul>
                        </div>
                        <span class="mdc-floating-label">Selecionar...</span>
                    </div>

                    <label for="nome-pergunta" class="input-label">Assunto</label>
                    <div class="mdc-text-field mdc-text-field--outlined">
                        <input class="mdc-text-field__input" id="assunto-pergunta" type="text">
                        <div class="mdc-notched-outline mdc-notched-outline--no-label">
                            <div class="mdc-notched-outline__leading"></div>
                            <div class="mdc-notched-outline__notch"></div>
                            <div class="mdc-notched-outline__trailing"></div>
                        </div>
                    </div>
                    <div class="mdc-text-field mdc-text-field--textarea" style="margin-top: 20px">
                        <textarea id="texto-pergunta" class="mdc-text-field__input" rows="8" cols="40"></textarea>
                        <div class="mdc-notched-outline">
                            <div class="mdc-notched-outline__leading"></div>
                            <div class="mdc-notched-outline__notch">
                            <label for="textarea" class="mdc-floating-label"><b>Descrição</b></label>
                            </div>
                            <div class="mdc-notched-outline__trailing"></div>
                        </div>
                    </div>

                    <label class="mdc-button mdc-button--outlined" style="margin-top: 20px;">
                        <input id="files" class="file-upload-btn" name="files" type="file" multiple/>
                        <span class="mdc-button__label">Enviar Arquivos</span>
                    </label>
                    
                    <button type="submit" class="mdc-button mdc-button--outlined" style="margin-top: 20px;">
                        <span class="mdc-button__label">Enviar</span>
                    </button>
                </form>
            </main>
        </div>
    </div>
</div>

<div class="modal micromodal-slide" id="modal-4" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-4-title">
            <header class="modal__header">
                <button class="mdc-icon-button material-icons header-icon-button modal__close__custom" data-micromodal-close>chevron_left</button>
                <h2 class="modal__title" id="modal-4-title">Gerenciar Curso</h2>
            </header>
            <main class="modal__content" id="modal-4-content">
                <div class="invite-wrapper" id="edit-cursos">
                    @foreach (CursoAluno c in ViewBag.CursoAluno) {
                        <div class="invite" id="edit-curso-aluno-@c.CursoId">
                            @if (@c.statusInvite == 0)
                            {
                                <div class="invite-left">
                                    @c.Curso.CursoNome
                                </div>   
                            }
                            <div class="invite-right">
                                <button class="mdc-icon-button material-icons">edit</button>
                                <button onclick="declineInvite(@c.CursoAlunoId)" class="mdc-icon-button material-icons">clear</button>
                            </div>
                        </div>
                    }
                </div>
            </main>
        </div>
    </div>
</div>

<div class="modal micromodal-slide" id="modal-5" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-5-title">
            <header class="modal__header">
                <button class="mdc-icon-button material-icons header-icon-button modal__close__custom" onclick="SearchModalClose()">chevron_left</button>
                <input class="modal__header__searchbar" type="text" id="myInput" onkeyup="myFunction()" placeholder="Buscar...">
            </header>
            <main class="modal__content" id="modal-5-content">

            </main>
        </div>
    </div>
</div>

<div class="modal micromodal-slide" id="modal-6" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-6-title">
            <header class="modal__header">
                <button class="mdc-icon-button material-icons header-icon-button modal__close__custom" data-micromodal-trigger="modal-1" data-micromodal-close>chevron_left</button>
                <h2 class="modal__title" id="modal-6-title">Conta</h2>
            </header>
            <main class="modal__content" id="modal-6-content">
                <form id="perfil-form" class="form-wrapper" name="form" action="/uploadmultiple" enctype="multipart/form-data" method="post">
                    <label for="nome-usuario" class="input-label" style="margin-top: -10px;">Nome</label>
                    <div class="mdc-text-field mdc-text-field--outlined">
                        <input class="mdc-text-field__input" id="nome-usuario" type="text">
                        <div class="mdc-notched-outline mdc-notched-outline--no-label">
                            <div class="mdc-notched-outline__leading"></div>
                            <div class="mdc-notched-outline__notch"></div>
                            <div class="mdc-notched-outline__trailing"></div>
                        </div>
                    </div>
                    <label for="email-usuario" class="input-label">E-Mail</label>
                    <div class="mdc-text-field mdc-text-field--outlined">
                        <input class="mdc-text-field__input" id="email-usuario" type="email">
                        <div class="mdc-notched-outline mdc-notched-outline--no-label">
                            <div class="mdc-notched-outline__leading"></div>
                            <div class="mdc-notched-outline__notch"></div>
                            <div class="mdc-notched-outline__trailing"></div>
                        </div>
                    </div>
                    <!-- <label for="senha-usuario" class="input-label">Senha</label>
                    <div class="mdc-text-field mdc-text-field--outlined mdc-text-field--with-trailing-icon">
                        <i class="material-icons mdc-text-field__icon">lock</i>
                        <input class="mdc-text-field__input" id="senha-usuario" type="password">
                        <div class="mdc-notched-outline mdc-notched-outline--no-label">
                            <div class="mdc-notched-outline__leading"></div>
                            <div class="mdc-notched-outline__notch"></div>
                            <div class="mdc-notched-outline__trailing"></div>
                        </div>
                    </div>
                    <label for="senha-confirmar" class="input-label">Repetir Senha</label>
                    <div class="mdc-text-field mdc-text-field--outlined mdc-text-field--with-trailing-icon">
                        <i class="material-icons mdc-text-field__icon">lock</i>
                        <input class="mdc-text-field__input" id="senha-confirmar" type="password">
                        <div class="mdc-notched-outline mdc-notched-outline--no-label">
                            <div class="mdc-notched-outline__leading"></div>
                            <div class="mdc-notched-outline__notch"></div>
                            <div class="mdc-notched-outline__trailing"></div>
                        </div>
                    </div> -->

                    <button type="submit" class="mdc-button mdc-button--outlined" style="margin-top: 20px;">
                        <span class="mdc-button__label">Salvar</span>
                    </button>
                </form>
            </main>
            <footer class="modal__footer"></footer>
        </div>
    </div>
</div>

<div class="modal micromodal-slide" id="modal-7" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-7-title">
            <header class="modal__header">
                <button class="mdc-icon-button material-icons header-icon-button modal__close__custom" data-micromodal-trigger="modal-1" data-micromodal-close>chevron_left</button>
                <h2 class="modal__title" id="modal-7-title">Senha</h2>
            </header>
            <main class="modal__content" id="modal-7-content">
                <form id="perfil-form" class="form-wrapper" name="form" action="/uploadmultiple" enctype="multipart/form-data" method="post">
                    <label for="senha-usuario" class="input-label" style="margin-top: -10px;">Senha</label>
                    <div class="mdc-text-field mdc-text-field--outlined mdc-text-field--with-trailing-icon">
                        <i class="material-icons mdc-text-field__icon">lock</i>
                        <input class="mdc-text-field__input" id="senha-usuario" type="password">
                        <div class="mdc-notched-outline mdc-notched-outline--no-label">
                            <div class="mdc-notched-outline__leading"></div>
                            <div class="mdc-notched-outline__notch"></div>
                            <div class="mdc-notched-outline__trailing"></div>
                        </div>
                    </div>
                    <label for="senha-confirmar" class="input-label">Repetir Senha</label>
                    <div class="mdc-text-field mdc-text-field--outlined mdc-text-field--with-trailing-icon">
                        <i class="material-icons mdc-text-field__icon">lock</i>
                        <input class="mdc-text-field__input" id="senha-confirmar" type="password">
                        <div class="mdc-notched-outline mdc-notched-outline--no-label">
                            <div class="mdc-notched-outline__leading"></div>
                            <div class="mdc-notched-outline__notch"></div>
                            <div class="mdc-notched-outline__trailing"></div>
                        </div>
                    </div>

                    <button type="submit" class="mdc-button mdc-button--outlined" style="margin-top: 20px;">
                        <span class="mdc-button__label">Salvar</span>
                    </button>
                </form>
            </main>
            <footer class="modal__footer"></footer>
        </div>
    </div>
</div>
<div id="overlay"></div>
<!--FOOTER-->
</div>

@section Scripts {
    <script type="text/javascript">
    
        const textFields = document.querySelectorAll('.mdc-text-field');
        for (const textField of textFields) {
            mdc.textField.MDCTextField.attachTo(textField);
        }
        const selects = document.querySelectorAll('.mdc-select');
        for (const select of selects) {
            mdc.select.MDCSelect.attachTo(select);
        }

        const buttons = document.querySelectorAll('.mdc-button');
        for (const button of buttons) {
            mdc.ripple.MDCRipple.attachTo(button);
        }

        const lists = document.querySelectorAll('.mdc-list');

        const listItems = document.querySelectorAll('.mdc-list-item');
        for (const list of lists) {
            mdc.list.MDCList.attachTo(list);
            for (const listItem of listItems){
                mdc.ripple.MDCRipple.attachTo(listItem);
            }
        }
        
        async function logout() {
            const response = await fetch('api/Usuario/LogoutUsuario');
            if(!response.ok){
                throw Error(response.statusText);
            }

            window.location.reload();
        }

        $("#pergunta-form").submit(async function(event){
            event.preventDefault();
            
            let cursoAlunoId;
            $('#lista-cursos').children('li').each(function(){
               if($(this).hasClass('mdc-list-item--selected')){
                   cursoAlunoId = $(this).data('value');
               }
            });

            if(cursoAlunoId == null){
                return alert('Selecione um curso!');
            }

            const pergunta = {
                'PerguntaNome': $('#assunto-pergunta').val(),
                'PerguntaDesc': $('#texto-pergunta').val(),
                'Arquivado' : 0, 
                'CursoAlunoId': cursoAlunoId,
            }

            const response = await fetch('api/Pergunta/addPergunta', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(pergunta)
            });

            if(!response.ok){ throw Error(response.statusText); }
            
            const data = await response.json();
            const files = $('#files').prop('files');
            
            if(files.length > 0) {
                console.log(`Foram selecionados ${files.length} arquivos!`);
                let progressbar = 0;
                for(file of files){
                    const formData = new FormData();
                    formData.append('file', file);

                    await fetch('api/Pergunta/UploadArquivo', {
                        method: 'POST',
                        body: formData
                    })
                    .then(response => {
                        progressbar += 100 / files.length; 
                        console.log(Math.round(progressbar));
                    })
                    .catch(error => console.log(error));
                }
            }
            window.location.reload();
        });

        function pickCursoAlunoId(){
            $('#lista-cursos').children('li').each(function(){
               if($(this).hasClass('mdc-list-item--selected')){
                   const id = $(this).data('value');
                   console.log(id);
                   return id;
               }
            })
        }

        MicroModal.init({
            awaitCloseAnimation: true,
            disableFocus: true,
            disableScroll: true
        });

        function SearchModalFocus(){
            $(".mobile-header-backdrop").toggleClass("mobile-header-backdrop--after");
            setTimeout(function(){
                MicroModal.show( 'modal-5'); $("#myInput").focus();
            }, 150 );
        }

        
        function SearchModalClose(){
            MicroModal.close('modal-5');
            $(".mobile-header-backdrop").removeClass("mobile-header-backdrop--after");
        }

        function selecionaMateria(e) {
            var id = this.getAttribute("data-id");
            var target = document.getElementById(this.getAttribute("data-target"));
            target.setAttribute("data-id", id);
            target.textContent = this.textContent;
        }

        async function acceptInvite(cursoAluno_id){
            await fetch('/api/CursoAluno/' + cursoAluno_id, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({CursoAlunoId: cursoAluno_id})
            })
            .then(response => {
                $('#invite-curso-aluno-' + cursoAluno_id).remove();
                alert('Convite aceito!');
            })
            .catch(error => alert(error));
        }

        async function declineInvite(cursoAluno_id){
            await fetch('/api/CursoAluno/' + cursoAluno_id, {
                method: 'DELETE'
            })
            .then(response => { 
                console.log(response);
                $('#invite-curso-aluno-' + cursoAluno_id).remove();
            })
            .catch(error => alert(error));
        }

        $(document).ready(function () {
            //MOBILE - ABRIR / FECHAR SIDEBAR
            $("#mobile-sidebar-button").click(function () {
                $("#overlay").fadeToggle(300);
                $(".sidebar-wrapper").toggleClass('sidebar-wrapper-after');
            });

            $("#overlay").click(function () {
                $("#overlay").fadeOut(300);
                $(".sidebar-wrapper").removeClass('sidebar-wrapper-after');
            });
            //-------------------------------------------------------------

            //FORMATO MOBILE - HOVER PARA NOMES GRANDES DE INBOX            TODO: MOBILE GESTURES (on hold)            //FORMATO MOBILE - HOVER PARA NOMES GRANDES DE INBOX            TODO: MOBILE GESTURES (on hold)
            $(".list-select").hover(function () {
                var nomeMateriaContainer = $(this).find('.materia-title-container')[0];
                var nomeMateria = $(this).find('.materia-title-container').find('.materia-title')[0];

                if (nomeMateria.offsetWidth - 47 < nomeMateria.scrollWidth) {
                    $(nomeMateria).addClass('list-select-overflowing');
                    var parent_width = nomeMateriaContainer.offsetWidth - 47;
                    $(this).mouseover(function () {
                        nomeMateria.style.transform = 'translateX(calc(-100% + ' + parent_width + 'px))';
                    });
                    $(this).mouseleave(function () {
                        nomeMateria.style.transform = ''
                    });
                }
            });
        });
    </script>
}